<div class="post-header">
  <div class="container full-height">
    <header class="blog-header py-3">
      <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-4 d-flex justify-content-start align-items-center">
          <a class="btn btn-sm btn-light" href="/home">Go Home</a>
          <a class="btn btn-sm btn-light" href="/home" (click)="logout()">Logout</a>
        </div>
        <div class="col-4 text-center header-text">
          <h1>New Post</h1>
        </div>
        <div class="col-4 d-flex justify-content-end align-items-end">
          <a href="/home">
            <img src="assets/CCQC-logo.png" class="ccqc-logo">
          </a>
        </div>
      </div>
    </header>
  </div>
</div>
<div class="container">
  <div class="row post-body">
    <div class="col-12 col-md-offset-3" *ngIf="!success">
      <form [formGroup]="loginForm">
        <div class="form-group">
          <label class="label">Post Title</label>
          <input formControlName="title" class="form-control">
          <div class="cat-group">
            <label class="label">Category</label>
            <br>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Restaurants')" name="Restaurants">Restaurants</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Brewery')" name="Brewery">Brewery</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Bar')" name="Bar">Bar</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Nightlife')" name="Nightlife">Nightlife</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Fast-Casual-Eats')" name="Fast-Casual-Eats">Fast-Casual-Eats</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Sport-Recreation')" name="Sport-Recreation">Sport-Recreation</button>
            <button type="button" class="btn btn-secondary cat" (click)="selectCategory('Health-Fitness-Wellness')" name="Health-Fitness-Wellness">Health-Fitness-Wellness</button>
          </div>
          <div>
            <label class="label">Post Lede</label>
            <textarea formControlName="lede" class="form-control" rows="3"></textarea>
          </div>
          <div>
            <label class="label">Post Body</label>
            <textarea formControlName="body" class="form-control" rows="6"></textarea>
          </div>
          <div>
            <table>
              <tr>
                <td>
                  <label class="label" style="margin-top: 25px; margin-right: 10px;">Rating</label>
                </td>
                <td>
                  <bar-rating class="rating" formControlName="rating" [max]="5" [theme]="'default'" required></bar-rating>
                </td>
              </tr>
            </table>
          </div>
          <div>
            <label class="label" for="file">Upload Photo:</label>
            <input type="file" (change)="upload($event)" accept=".png,.jpg" />
            <i *ngIf="showUploaded" style="color: #4CAF50;" class="fas fa-check"></i>
            <div class="progress" style="height: 1px;">
              <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="result" *ngIf="uploadURL | async; let uploadSrc">
              <a [href]="uploadSrc">You just uploaded this file!</a>
            </div>
          </div>
          <label class="error">{{errorMessage}}</label>
        </div>
        <button type="submit" (click)="addPost(loginForm.value)" class="btn btn-primary">Add Post</button>
      </form>
    </div>
  </div>
</div>

<div class="col-12 col-md-offset-3 success" *ngIf="success">
  <span>Your post was successful!</span>
  <div>
    <svg id="successAnimation" class="animated success-svg" xmlns="http://www.w3.org/2000/svg" width="20%" height="20%" viewBox="0 0 70 70">
      <path id="successAnimationResult" fill="#D8D8D8" d="M35,60 C21.1928813,60 10,48.8071187 10,35 C10,21.1928813 21.1928813,10 35,10 C48.8071187,10 60,21.1928813 60,35 C60,48.8071187 48.8071187,60 35,60 Z M23.6332378,33.2260427 L22.3667622,34.7739573 L34.1433655,44.40936 L47.776114,27.6305926 L46.223886,26.3694074 L33.8566345,41.59064 L23.6332378,33.2260427 Z"
      />
      <circle id="successAnimationCircle" cx="35" cy="35" r="24" stroke="#979797" stroke-width="2" stroke-linecap="round" fill="transparent"
      />
      <polyline id="successAnimationCheck" stroke="#979797" stroke-width="2" points="23 34 34 43 47 27" fill="transparent" />
    </svg>
  </div>
  <div>
    <a class="btn btn-light" href="/home">Go See It!</a>
  </div>
</div>
